import{r as i,w as ie,o as _e,a as he,b as l,c as o,d as A,u as D,e as E,f as e,n as m,g as v,v as q,t as n,h as r,i as x,F as f,j as _,k as re,l as de,m as ge,O as ce,Z as ye,p as k}from"./app-9quzgl4P.js";import{m as ue,M as F}from"./index-D043aQtF.js";const xe=e("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css",integrity:"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN",crossorigin:"anonymous"},null,-1),ke=e("a",{href:"https://www.facebook.com/jpcscspc"},"JPCS Facebook Page",-1),be={class:"row"},we={class:"col-lg-8 mx-auto mb-5"},Ne=["src","width"],Se=e("span",null," Registration ",-1),Ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:"30px"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})],-1),Ue=[Ve],Ce={class:"row bg-white p-3 mx-3 border-0 rounded",id:"form"},Me={class:"row mt-1"},je={class:"col-lg-3 mt-1"},qe={key:0,class:"text-danger"},Te={class:"col-lg-3 mt-1"},ze={key:0,class:"text-danger"},Ie={class:"col-lg-3 mt-1"},Oe={key:0,class:"text-danger"},Ae={class:"col-lg-3 mt-1"},De=e("option",{value:"",selected:""},"Suffix (Optional)",-1),Re=["value"],Pe={key:0,class:"text-danger"},Be={class:"row mt-1"},Ee={class:"col-lg-6 mt-1"},Fe={key:0,class:"text-danger"},Le={class:"col-lg-6 mt-1"},Ge={class:"d-flex gap-1 align-items-center"},Ye=e("option",{value:"",disabled:"",selected:""},"Select T-Shirt Size",-1),Ze=["value"],He=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:"30",class:"",role:"button"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})],-1),Je=[He],Xe={key:0,class:"text-danger"},$e={class:"row mt-1"},Ke={class:"col-12-lg"},We=e("option",{value:"",disabled:"",selected:""},"Select School",-1),Qe=["value"],et={key:0,class:"text-danger"},tt={key:0,class:"row"},st={class:"col-lg-4 mt-1"},lt=e("option",{value:"",disabled:"",selected:""},"Select Program",-1),ot=["value"],at={key:0,class:"text-danger"},nt={class:"col-lg-4 mt-1"},it=e("option",{value:"",disabled:"",selected:""},"Select Year",-1),rt=["value"],dt={key:0,class:"text-danger"},ct={class:"col-lg-4 mt-1"},ut=e("option",{value:"",disabled:"",selected:""},"Select Section",-1),vt=["value"],mt={key:0,class:"text-danger"},pt={class:"mt-1 d-flex justify-content-center"},ft={style:{border:"1px solid #A10075"},class:"px-1"},_t=e("div",{class:"text-center"},"Dietary Restrictions (Optional)",-1),ht={class:"row"},gt={class:"d-flex gap-3"},yt=["id","onUpdate:modelValue"],xt=["for"],kt={class:"mt-1"},bt={key:0,class:"row"},wt={class:"d-flex gap-1"},Nt={key:0,class:"text-danger"},St={class:"mt-1"},Vt={class:"d-flex gap-1"},Ut=e("label",{for:"confirm",style:{"text-transform":"none"}}," I confirm that the information I provided is true and correct. ",-1),Ct={key:0,class:"text-danger"},Mt={class:"d-flex justify-content-center align-items-center"},jt=["disabled"],qt=["src"],Tt={class:"row"},zt={class:"d-flex col-12 rounded-pill d-flex align-items-center form-group row"},It=e("label",{class:"col-6"},"Full Name",-1),Ot={class:"col-6"},At={class:"rounded px-3 py-1 form-control",style:{border:"2px solid purple"}},Dt={class:"d-flex col-12 rounded-pill d-flex align-items-center form-group row"},Rt=e("label",{class:"col-6"},"Nickname",-1),Pt={class:"col-6"},Bt=e("div",{class:"d-flex justify-content-center text-danger"},"This will appear on your ID!",-1),Et={class:"rounded px-3 py-1 form-control",style:{border:"2px solid purple"}},Ft={key:0,class:"text-danger"},Lt={class:"d-flex col-12 rounded-pill d-flex align-items-center form-group row"},Gt=e("label",{class:"col-6"},"T-Shirt Size",-1),Yt={class:"col-6"},Zt={class:"rounded px-3 py-1 form-control",style:{border:"2px solid purple"}},Ht={key:0,class:"text-danger"},Jt={class:"d-flex col-12 rounded-pill d-flex align-items-center form-group row"},Xt=e("label",{class:"col-6"},"School",-1),$t={class:"col-6"},Kt={class:"rounded px-3 py-1 form-control",style:{border:"2px solid purple"}},Wt={key:0,class:"text-danger"},Qt={key:0,class:"d-flex col-12 rounded-pill d-flex align-items-center form-group row"},es=e("label",{class:"col-6"}," Program and 4ection ",-1),ts={class:"col-6"},ss={class:"rounded px-3 py-1 form-control",style:{border:"2px solid purple"}},ls={key:0,class:"text-danger"},os={class:"d-flex col-12 rounded-pill d-flex align-items-center form-group row"},as=e("label",{class:"col-6"},"Dietary Restrictions",-1),ns={class:"col-6"},is={class:"rounded px-3 py-1 form-control",style:{border:"2px solid purple"}},rs={key:0,class:"text-danger"},us={__name:"Register",props:{user:{required:!1},colleges:{required:!0},programs:{required:!0},years:{required:!0},sections:{required:!0},sizes:{required:!0},suffixes:{required:!0},assets:{type:Object,required:!0},restrictions:{type:Object,required:!0}},setup(d){var H,J,X,$,K,W,Q,ee,te,se,le,oe,ae,ne;const c=d,T=i(((H=c.user)==null?void 0:H.last_name)??""),z=i(((J=c.user)==null?void 0:J.first_name)??""),b=i(((X=c.user)==null?void 0:X.middle_initial)??""),p=i((($=c.user)==null?void 0:$.college_id)??""),w=i(((K=c.user)==null?void 0:K.nickname)??""),h=i(((Q=(W=c.user)==null?void 0:W.section)==null?void 0:Q.program_id)??""),g=i(((te=(ee=c.user)==null?void 0:ee.section)==null?void 0:te.year_id)??""),y=i(((se=c.user)==null?void 0:se.section_id)??""),N=i(((le=c.user)==null?void 0:le.t_shirt_size_id)??""),S=i(((oe=c.user)==null?void 0:oe.suffix)??""),L=i(((ae=c.user)==null?void 0:ae.dietary_restrictions)??""),G=i([]),a=i([]),V=i(!0),U=i(!1),I=i(!1);i(!1);const C=i(!1),O=i(!1),R=i(!1),Y=i(!!((ne=c.user)!=null&&ne.registration)),ve=()=>{C.value=!1},P=()=>{g.value&&h.value&&(G.value=c.sections.filter(u=>u.program_id===h.value&&u.year_id===g.value).map(({id:u,section:s})=>({id:u,section:s})))},M=(u,s,t="name")=>{try{return u.find(j=>j.id==s)[t]}catch{return""}},me=async()=>{I.value=!0,O.value=!1,await ge.post("/api/register",{lastName:T.value,firstName:z.value,middleInitial:b.value,college:p.value,nickname:w.value,program:h.value,year:g.value,section:y.value,tshirt:N.value,suffix:S.value,dietaryRestrictions:L.value,user:c.user.id,confirm:R.value,restrictions:c.restrictions}).then(u=>{ue.success(u.data.data.message+`
You will be logged out in 5 seconds`,5,()=>{ce.post("/logout")})}).catch(u=>{a.value=u.response.data.errors,ue.error("Error: "+u.response.data.message),I.value=!1})},Z=()=>{ce.post("/logout")},B=()=>{V.value=window.innerWidth>=992},pe=()=>T.value+(S.value?" "+c.suffixes.find(u=>u.id==S.value).name:"")+", "+z.value+(b.value?" "+b.value+".":"");return ie([g,h],P,{deep:!0}),ie(p,()=>{p.value==1?U.value=!0:U.value=!1}),_e(()=>{B(),window.addEventListener("resize",B),U.value=p.value==1,P()}),he(()=>{window.removeEventListener("resize",B),U.value=p.value==1,P()}),(u,s)=>(l(),o(f,null,[xe,A(D(ye),{title:"Begin Your Journey"}),A(D(F),{open:Y.value,"onUpdate:open":s[0]||(s[0]=t=>Y.value=t),"after-close":Z,title:"This email is already registered","ok-text":"Okay","ok-type":"primary","cancel-text":"Close","ok-button-props":{style:{display:"none"}},width:"800px"},{default:E(()=>[k(" This email is already associated with a registration. If you need to edit your registration, please send your concern to the "),ke,k(". ")]),_:1},8,["open"]),e("div",{style:re({"background-image":"url("+d.assets.background+")","min-height":"100vh","min-width":"100vw","background-size":"cover"}),class:"font-small-caps"},[e("div",be,[e("div",we,[e("div",null,[e("div",{class:m({"d-flex":!0,"justify-content-end":V.value,"mt-5":!0,"justify-content-center":!V.value})},[e("img",{src:d.assets.bycit_logo,alt:"",width:{300:V.value,500:!V.value}},null,8,Ne)],2),e("div",{class:"d-flex justify-content-start align-items-center gap-2 text-white fw-bold fst-italic fs-3 ms-3"},[Se,e("button",{href:"#",onClick:Z},Ue)]),e("div",Ce,[e("form",null,[e("div",Me,[e("div",je,[v(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>T.value=t),placeholder:"Last Name",class:m({"border-danger":a.value.lastName,"font-small-caps":!0,"form-control":!0})},null,2),[[q,T.value]]),a.value.lastName?(l(),o("span",qe,n(a.value.lastName[0]),1)):r("",!0)]),e("div",Te,[v(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>z.value=t),placeholder:"First Name",class:m({"border-danger":a.value.firstName,"font-small-caps":!0,"form-control":!0})},null,2),[[q,z.value]]),a.value.firstName?(l(),o("span",ze,n(a.value.firstName[0]),1)):r("",!0)]),e("div",Ie,[v(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=t=>b.value=t),placeholder:"Middle Initial",class:m({"border-danger":a.value.middleInitial,"font-small-caps":!0,"form-control":!0})},null,2),[[q,b.value]]),a.value.middleInitial?(l(),o("span",Oe,n(a.value.middleInitial[0]),1)):r("",!0)]),e("div",Ae,[v(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>S.value=t),class:m({"border-danger":a.value.suffix,"font-small-caps":!0,"form-select":!0})},[De,(l(!0),o(f,null,_(d.suffixes,t=>(l(),o("option",{value:t.id},n(t.name),9,Re))),256))],2),[[x,S.value]]),a.value.suffix?(l(),o("span",Pe,n(a.value.suffix[0]),1)):r("",!0)])]),e("div",Be,[e("div",Ee,[v(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=t=>w.value=t),placeholder:"Nickname",class:m({"border-danger":a.value.nickname,"font-small-caps":!0,"form-control":!0})},null,2),[[q,w.value]]),a.value.nickname?(l(),o("span",Fe,n(a.value.nickname[0]),1)):r("",!0)]),e("div",Le,[e("div",Ge,[v(e("select",{"onUpdate:modelValue":s[6]||(s[6]=t=>N.value=t),class:m({"border-danger":a.value.tshirt,"font-small-caps":!0,"form-select":!0})},[Ye,(l(!0),o(f,null,_(d.sizes,t=>(l(),o("option",{value:t.id},n(t.name),9,Ze))),256))],2),[[x,N.value]]),e("div",{onClick:s[7]||(s[7]=t=>C.value=!C.value)},Je)]),a.value.tshirt?(l(),o("span",Xe,n(a.value.tshirt[0]),1)):r("",!0)])]),e("div",$e,[e("div",Ke,[v(e("select",{"onUpdate:modelValue":s[8]||(s[8]=t=>p.value=t),class:m({"border-danger":a.value.college,"font-small-caps":!0,"form-select":!0})},[We,(l(!0),o(f,null,_(d.colleges,t=>(l(),o("option",{value:t.id},n(t.name),9,Qe))),256))],2),[[x,p.value]]),a.value.college?(l(),o("span",et,n(a.value.college[0]),1)):r("",!0)])]),U.value?(l(),o("div",tt,[e("div",st,[v(e("select",{"onUpdate:modelValue":s[9]||(s[9]=t=>h.value=t),class:m({"border-danger":a.value.program,"font-small-caps":!0,"form-select":!0})},[lt,(l(!0),o(f,null,_(d.programs,t=>(l(),o("option",{value:t.id},n(t.name),9,ot))),256))],2),[[x,h.value]]),a.value.program?(l(),o("span",at,n(a.value.program[0]),1)):r("",!0)]),e("div",nt,[v(e("select",{"onUpdate:modelValue":s[10]||(s[10]=t=>g.value=t),class:m({"border-danger":a.value.year,"font-small-caps":!0,"form-select":!0})},[it,(l(!0),o(f,null,_(d.years,t=>(l(),o("option",{value:t.id},n(t.name),9,rt))),256))],2),[[x,g.value]]),a.value.year?(l(),o("span",dt,n(a.value.year[0]),1)):r("",!0)]),e("div",ct,[v(e("select",{"onUpdate:modelValue":s[11]||(s[11]=t=>y.value=t),class:m({"border-danger":a.value.section,"font-small-caps":!0,"form-select":!0})},[ut,(l(!0),o(f,null,_(G.value,t=>(l(),o("option",{value:t.id},n(t.section),9,vt))),256))],2),[[x,y.value]]),a.value.section?(l(),o("span",mt,n(a.value.section[0]),1)):r("",!0)])])):r("",!0),e("div",pt,[e("div",ft,[_t,e("div",ht,[(l(!0),o(f,null,_(d.restrictions,(t,j)=>(l(),o("div",{key:j,class:"col-md-6"},[e("div",gt,[v(e("input",{type:"checkbox",class:"form-check-input",id:t.name,"onUpdate:modelValue":fe=>t.checked=fe},null,8,yt),[[de,t.checked]]),e("label",{for:t.name},n(t.name),9,xt)])]))),128))])])]),e("div",kt,[d.restrictions.some(t=>t.name==="Allergies"&&t.checked)?(l(),o("div",bt,[e("div",wt,[v(e("input",{type:"text",placeholder:"Allergies","onUpdate:modelValue":s[12]||(s[12]=t=>d.restrictions.find(j=>j.name==="Allergies").allergy=t),class:m([{"col-8 form-control font-small-caps border-0":!0,"border-danger":a.value["restrictions.3.allergy"]}]),style:re({"border-bottom":"1px solid "+(a.value["restrictions.3.allergy"]?"#":"#A10075")+" !important"})},null,6),[[q,d.restrictions.find(t=>t.name==="Allergies").allergy]])]),a.value["restrictions.3.allergy"]?(l(),o("span",Nt,"Please enter your allergies")):r("",!0)])):r("",!0)]),e("div",St,[e("div",Vt,[v(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[13]||(s[13]=t=>R.value=t),id:"confirm"},null,512),[[de,R.value]]),Ut]),a.value.confirm?(l(),o("span",Ct,n(a.value.confirm[0]),1)):r("",!0)]),e("div",Mt,[e("button",{type:"button",class:"btn text-white w-50 fw-bold mt-1",style:{"background-color":"#A10075"},onClick:s[14]||(s[14]=t=>O.value=!0),disabled:I.value},"Confirm",8,jt)])]),e("div",null,[A(D(F),{open:C.value,"onUpdate:open":s[15]||(s[15]=t=>C.value=t),onOk:ve,"ok-text":"Okay","ok-type":"primary","cancel-button-props":{style:{display:"none"}},"ok-button-props":{style:{display:"none"}},width:"800px"},{default:E(()=>[e("img",{src:d.assets.shirt_guide,alt:"",class:"border-0 rounded"},null,8,qt)]),_:1},8,["open"])]),e("div",null,[A(D(F),{open:O.value,"onUpdate:open":s[16]||(s[16]=t=>O.value=t),onOk:me,title:"Please check your information.","ok-text":"Confirm","ok-type":"primary","cancel-button-props":{class:{"btn btn-outline-danger d-inline-flex align-items-center":!0}},"ok-button-props":{class:{"btn btn-outline-success d-inline-flex align-items-center":!0},disabled:I.value}},{default:E(()=>[e("div",Tt,[e("span",zt,[It,e("div",Ot,[e("p",At,n(pe()),1)])]),e("span",Dt,[Rt,e("div",Pt,[Bt,e("p",Et,[k(n(w.value)+" ",1),w.value?r("",!0):(l(),o("span",Ft,"*This field is required*"))])])]),e("span",Lt,[Gt,e("div",Yt,[e("p",Zt,[k(n(M(d.sizes,N.value))+" ",1),N.value?r("",!0):(l(),o("span",Ht,"*This field is required*"))])])]),e("span",Jt,[Xt,e("div",$t,[e("p",Kt,[k(n(M(d.colleges,p.value))+" ",1),p.value?r("",!0):(l(),o("span",Wt,"*This field is required*"))])])]),p.value==1?(l(),o("span",Qt,[es,e("div",ts,[e("p",ss,[k(n(M(d.programs,h.value,u.code))+" - "+n(M(d.years,g.value))+n(M(d.sections,y.value,y.value))+" ",1),y.value?r("",!0):(l(),o("span",ls,"*This field is required*"))])])])):r("",!0),e("span",os,[as,e("div",ns,[e("p",is,[(l(!0),o(f,null,_(d.restrictions.filter(t=>t.checked===!0).map(t=>[t.name,t.allergy]),t=>(l(),o("div",null,n(t[0])+n(t[1]?": "+t[1]:""),1))),256)),L.value?r("",!0):(l(),o("span",rs))])])])])]),_:1},8,["open","ok-button-props"])])])])])])],4)],64))}};export{us as default};
